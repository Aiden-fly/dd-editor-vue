{"version":3,"file":"index6aba3eed.css","mappings":";AA2FA;EACA;EAAA;EAAA;EACA;MAAA;UAAA;EACA;EACA;AACA;AACA;EACA;EACA;EAAA;EAAA;EACA;EACA;EACA;AACA;AACA;EACA;AACA","sources":["webpack://dd-editor/./packages/dd-treenode/Header.vue"],"sourcesContent":["<template>\r\n  <div class=\"dde-header-wraper\">\r\n    <i\r\n      :class=\"{\r\n          'iconfont': true,\r\n        'dde-toolbar-icon': true,\r\n        'icon-undo': true,\r\n        'dde-toolbar-icon-default': useShare.stack.undoStack.count <= 0,\r\n      }\"\r\n      @click=\"undo\"\r\n    />\r\n    <i\r\n      :class=\"{\r\n          'iconfont': true,\r\n        'dde-toolbar-icon': true,\r\n        'icon-redo': true,\r\n        'dde-toolbar-icon-default': useShare.stack.redoStack.count <= 0,\r\n      }\"\r\n      @click=\"redo\"\r\n    />\r\n    <i\r\n      class=\"dde-toolbar-icon iconfont icon-zoomin\"\r\n      @click=\"onZoomIn\"\r\n    />\r\n    <i\r\n      class=\"dde-toolbar-icon iconfont icon-zoomout\"\r\n      @click=\"onZoomOut\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useDataShare, Observer } from \"./utils/shared\";\r\nexport default {\r\n  name: \"TreeHeader\",\r\n  data() {\r\n    return {\r\n      useShare: useDataShare,\r\n      scaleCount: 1,\r\n    };\r\n  },\r\n  mounted() {\r\n    Observer.subscribe(\"tree\", () => {\r\n      this.useShare = useDataShare;\r\n    });\r\n  },\r\n  methods: {\r\n    setZoom(ref, size) {\r\n      ref.$el.setAttribute(\r\n        \"style\",\r\n        `transform:scale(${size});transform-origin:left top;`\r\n      );\r\n    },\r\n    changeSize(action) {\r\n      switch (action.type) {\r\n        case \"increment\":\r\n          // eslint-disable-next-line no-case-declarations\r\n          const counts = this.scaleCount + 0.1;\r\n          this.setZoom(action.ref, counts);\r\n          this.scaleCount = counts;\r\n          break;\r\n        case \"decrement\":\r\n          // eslint-disable-next-line no-case-declarations\r\n          const dCount = this.scaleCount - 0.1;\r\n          if (dCount <= 0.1) {\r\n            this.scaleCount = 0.1;\r\n          }\r\n          this.setZoom(action.ref, dCount);\r\n          this.scaleCount = dCount;\r\n          break;\r\n        default:\r\n          throw new Error();\r\n      }\r\n    },\r\n    onZoomIn() {\r\n      this.changeSize({ type: \"increment\", ref: this.$parent.$children[1] });\r\n    },\r\n    onZoomOut() {\r\n      this.changeSize({ type: \"decrement\", ref: this.$parent.$children[1] });\r\n    },\r\n    undo() {\r\n      useDataShare.excute({ command: \"undo\" });\r\n    },\r\n    redo() {\r\n      useDataShare.excute({ command: \"redo\" });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dde-header-wraper {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 45px;\r\n  background-color: #eee;\r\n}\r\n.dde-toolbar-icon {\r\n  margin-left: 10px;\r\n  display: flex;\r\n  height: 20px;\r\n  width: 20px;\r\n  cursor: pointer;\r\n}\r\n.dde-toolbar-icon-default {\r\n  opacity: 0.5;\r\n}\r\n</style>"],"names":[],"sourceRoot":""}